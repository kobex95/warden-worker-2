<!DOCTYPE html>
<html>
<head>
  <title>API Redirect</title>
  <script>
    // 重定向到根域名
    const path = window.location.pathname.replace('/api', '');
    const targetPath = path || '/api/config';

    // 发送请求到函数
    fetch(window.location.href, {
      method: 'GET',
      headers: {
        'Accept': 'application/json'
      }
    })
    .then(res => res.json())
    .then(data => {
      document.body.innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
    })
    .catch(err => {
      document.body.innerHTML = 'Error: ' + err.message;
    });
  </script>
</head>
<body>
  <p>API endpoint loading...</p>
</body>
</html>
